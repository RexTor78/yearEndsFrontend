<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trivial EndsYear</title>
  <link rel="stylesheet" href="css/styles-pages.css" />
</head>
<body>
  <div class="container">
    <h1>Trivia Villa</h1>
    <p>Â¡Demuestra tus conocimientos y diviÃ©rtete! Responde correctamente para avanzar.</p>

    <div id="triviaContainer">
      <h2 id="questionTitle"></h2>
      <ul id="answersList"></ul>
      <p id="triviaStatus"></p>
      <button id="nextBtn" class="hidden">Siguiente</button>
    </div>
  </div>

  <script>
    const questions = [
      {
        question: "Â¿CuÃ¡l es la pelÃ­cula de animaciÃ³n donde un robot limpia la Tierra mientras los humanos viven en el espacio?",
        answers: ["Wall-E", "Up", "Frozen", "Shrek"],
        correct: 0
      },
      {
        question: "Â¿En quÃ© aÃ±o se separÃ³ Sant Feliu de Codines de Caldes de Montbui?",
        answers: ["1895", "1793", "1902", "1550"],
        correct: 1
      },
      {
        question: "Â¿QuÃ© personaje de Pixar tiene un sombrero de vaquero?",
        answers: ["Woody", "Buzz Lightyear", "Mike Wazowski", "Remy"],
        correct: 0
      },
      {
        question: "Aproximadamente, Â¿cuÃ¡l es la poblaciÃ³n de Sant Feliu de Codines en 2025?",
        answers: ["9,000", "7,000", "12,000", "15,000"],
        correct: 2
      },
      {
        question: "Â¿QuÃ© pelÃ­cula animada presenta a un grupo de juguetes que cobran vida cuando no hay humanos?",
        answers: ["Toy Story", "Ratatouille", "Coco", "Inside Out"],
        correct: 0
      },
      {
        question: "Si el hijo de Juan es el padre de mi hijo, Â¿quÃ© soy yo de Juan?",
        answers: ["Su abuelo", "Su padre", "Su hijo", "Yo soy Juan"],
        correct: 2
      },
      {
        question: "Â¿QuÃ© pelÃ­cula animada trata sobre un ratÃ³n chef en ParÃ­s?",
        answers: ["Ratatouille", "Zootopia", "Madagascar", "The Incredibles"],
        correct: 0
      },
      {
        question: "Un abuelo, dos padres y dos hijos fueron a cazar. Â¿CuÃ¡l es el nÃºmero mÃ­nimo de personas que fueron?",
        answers: ["5 personas", "3 personas", "4 personas", "2 personas"],
        correct: 1 // Abuelo, Padre (que es hijo), Hijo.
      },
      {
        question: "Â¿QuÃ© villano de Disney tiene una voz famosa y canta 'Hazme un favor y rÃ­ndete'?",
        answers: ["Hades", "Ursula", "Scar", "MalÃ©fica"],
        correct: 1
      },
      {
        question: "Â¿QuÃ© es lo que siempre viene, pero nunca llega?",
        answers: ["El tren", "La comida", "El maÃ±ana", "El cartero"],
        correct: 2
      }
    ];

    let currentIndex = 0;
    const questionTitle = document.getElementById("questionTitle");
    const answersList = document.getElementById("answersList");
    const triviaStatus = document.getElementById("triviaStatus");
    const nextBtn = document.getElementById("nextBtn");

    function showQuestion() {
      const q = questions[currentIndex];
      questionTitle.innerText = q.question;
      answersList.innerHTML = "";
      triviaStatus.innerText = "";
      nextBtn.classList.add("hidden");

      q.answers.forEach((ans, idx) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.innerText = ans;
        btn.onclick = () => checkAnswer(idx);
        li.appendChild(btn);
        answersList.appendChild(li);
      });
    }

    function checkAnswer(selected) {
      const q = questions[currentIndex];
      if (selected === q.correct) {
        triviaStatus.innerText = "âœ… Â¡Correcto!";
      } else {
        triviaStatus.innerText = `âŒ Incorrecto. La respuesta correcta es "${q.answers[q.correct]}"`;
      }
      nextBtn.classList.remove("hidden");
    }

    nextBtn.addEventListener("click", () => {
      currentIndex++;
      if (currentIndex >= questions.length) {
        questionTitle.innerText = "ðŸŽ‰ Â¡Has completado la trivia!";
        answersList.innerHTML = "";
        triviaStatus.innerText = "Gracias por participar. Â¡DiviÃ©rtete en la villa!";
        nextBtn.classList.add("hidden");
      } else {
        showQuestion();
      }
    });

    // Inicializamos
    showQuestion();

    if (currentIndex >= questions.length) {
  questionTitle.innerText = "ðŸŽ‰ Â¡Has completado la trivia!";
  answersList.innerHTML = "";
  triviaStatus.innerText = "Gracias por participar. Â¡DiviÃ©rtete en la villa!";
  nextBtn.classList.add("hidden");

  // Redirige a celebration.html o pÃ¡gina final
  setTimeout(() => {
    window.location.href = "pages/celebration.html";
  }, 2000);
}

  </script>
</body>
</html>
