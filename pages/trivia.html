<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trivial EndsYear</title>
  <link rel="stylesheet" href="../css/styles-pages.css" />
</head>

<body>
  <div class="container">
    <h1>Trivia Villa</h1>
    <p>Â¡Demuestra tus conocimientos y diviÃ©rtete! Responde correctamente para avanzar.</p>

    <div id="triviaContainer">
      <h2 id="questionTitle"></h2>
      <ul id="answersList"></ul>
      <p id="triviaStatus"></p>
      <button id="nextBtn" class="hidden">Siguiente</button>
    </div>
  </div>

  <script>
const questions = [
  {
    question: "Â¿CuÃ¡l es la pelÃ­cula de animaciÃ³n donde un robot limpia la Tierra mientras los humanos viven en el espacio?",
    answers: ["Wall-E", "Up", "Frozen", "Shrek"],
    correct: 0
  },
  {
    question: "Â¿En quÃ© aÃ±o consiguiÃ³ Sant Feliu de Codines su decreto de emancipaciÃ³n de Caldes?",
    answers: ["1895", "1799", "1902", "1550"],
    correct: 1
  },
  {
    question: "Â¿QuÃ© personaje de Pixar tiene un sombrero de vaquero?",
    answers: ["Woody", "Buzz Lightyear", "Mike Wazowski", "Remy"],
    correct: 0
  },
  {
    question: "Aproximadamente, Â¿cuÃ¡l es la poblaciÃ³n actual de Sant Feliu de Codines?",
    answers: ["4,000", "12,000", "7,000", "15,000"],
    correct: 2
  },
  {
    question: "Â¿QuÃ© pelÃ­cula animada presenta a un grupo de juguetes que cobran vida?",
    answers: ["Toy Story", "Ratatouille", "Coco", "Inside Out"],
    correct: 0
  },
  {
    question: "Â¿CuÃ¡l es el ingrediente principal del Gazpacho?",
    answers: ["Lechuga", "Tomate", "Cebolla", "Patata"],
    correct: 1
  },
  {
    question: "Â¿QuÃ© pelÃ­cula animada trata sobre un ratÃ³n chef en ParÃ­s?",
    answers: ["Ratatouille", "Zootopia", "Madagascar", "The Incredibles"],
    correct: 0
  },
  {
    question: "Â¿CuÃ¡l de estos es un color primario?",
    answers: ["Verde", "Morado", "Azul", "Naranja"],
    correct: 2
  },
  {
    question: "Â¿A quÃ© casa pertenece Harry Potter en el Colegio Hogwarts?",
    answers: ["Slytherin", "Hufflepuff", "Ravenclaw", "Gryffindor"],
    correct: 3
  },
  {
    question: "Â¿CÃ³mo se llama el elfo domÃ©stico que Harry Potter libera con un calcetÃ­n?",
    answers: ["Kreacher", "Dobby", "Winky", "Hokey"],
    correct: 1
  },
  {
    question: "Â¿CuÃ¡l es el planeta mÃ¡s grande de nuestro sistema solar?",
    answers: ["Marte", "Saturno", "JÃºpiter", "Venus"],
    correct: 2
  },
  {
    question: "Â¿QuiÃ©n pintÃ³ la famosa 'Mona Lisa'?",
    answers: ["Vincent van Gogh", "Leonardo da Vinci", "Pablo Picasso", "Claude Monet"],
    correct: 1
  },
  {
    question: "Â¿CuÃ¡l es el ocÃ©ano mÃ¡s grande del mundo?",
    answers: ["OcÃ©ano AtlÃ¡ntico", "OcÃ©ano Ãndico", "OcÃ©ano Ãrtico", "OcÃ©ano PacÃ­fico"],
    correct: 3
  },
  {
    question: "Â¿QuÃ© gas necesitamos respirar los humanos para sobrevivir?",
    answers: ["NitrÃ³geno", "DiÃ³xido de carbono", "OxÃ­geno", "Helio"],
    correct: 2
  }
];

let currentIndex = 0;
const questionTitle = document.getElementById("questionTitle");
const answersList = document.getElementById("answersList");
const triviaStatus = document.getElementById("triviaStatus");
const nextBtn = document.getElementById("nextBtn");

function showQuestion() {
  const q = questions[currentIndex];
  questionTitle.innerText = q.question;
  answersList.innerHTML = "";
  triviaStatus.innerText = "";
  nextBtn.classList.add("hidden");

  q.answers.forEach((ans, idx) => {
    const li = document.createElement("li");
    const btn = document.createElement("button");
    btn.innerText = ans;
    btn.onclick = () => checkAnswer(idx);
    li.appendChild(btn);
    answersList.appendChild(li);
  });
}

function checkAnswer(selected) {
  const q = questions[currentIndex];
  if (selected === q.correct) {
    triviaStatus.innerText = "âœ… Â¡Correcto!";
  } else {
    triviaStatus.innerText = `âŒ Incorrecto. La respuesta correcta es "${q.answers[q.correct]}"`;
  }
  nextBtn.classList.remove("hidden");
}

nextBtn.addEventListener("click", () => {
  currentIndex++;
  if (currentIndex >= questions.length) {
    questionTitle.innerText = "ðŸŽ‰ Â¡Has completado la trivia!";
    answersList.innerHTML = "";
    triviaStatus.innerText = "Redirigiendo a la celebraciÃ³n...";
    nextBtn.classList.add("hidden");

    // Redirige automÃ¡ticamente tras 2 segundos
    setTimeout(() => {
      window.location.href = "celebration.html";
    }, 2000);
  } else {
    showQuestion();
  }
});

// Inicializamos la primera pregunta
showQuestion();

    let currentIndex = 0;
    const questionTitle = document.getElementById("questionTitle");
    const answersList = document.getElementById("answersList");
    const triviaStatus = document.getElementById("triviaStatus");
    const nextBtn = document.getElementById("nextBtn");

    function showQuestion() {
      const q = questions[currentIndex];
      questionTitle.innerText = q.question;
      answersList.innerHTML = "";
      triviaStatus.innerText = "";
      nextBtn.classList.add("hidden");

      q.answers.forEach((ans, idx) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.innerText = ans;
        btn.onclick = () => checkAnswer(idx);
        li.appendChild(btn);
        answersList.appendChild(li);
      });
    }

    function checkAnswer(selected) {
      const q = questions[currentIndex];
      if (selected === q.correct) {
        triviaStatus.innerText = "âœ… Â¡Correcto!";
      } else {
        triviaStatus.innerText = `âŒ Incorrecto. La respuesta correcta es "${q.answers[q.correct]}"`;
      }
      nextBtn.classList.remove("hidden");
    }

    nextBtn.addEventListener("click", () => {
      currentIndex++;
      if (currentIndex >= questions.length) {
        questionTitle.innerText = "ðŸŽ‰ Â¡Has completado la trivia!";
        answersList.innerHTML = "";
        triviaStatus.innerText = "Gracias por participar. Â¡DiviÃ©rtete en la villa!";
        nextBtn.classList.add("hidden");
      } else {
        showQuestion();
      }
    });

    // Inicializamos
    showQuestion();

    if (currentIndex >= questions.length) {
      questionTitle.innerText = "ðŸŽ‰ Â¡Has completado la trivia!";
      answersList.innerHTML = "";
      triviaStatus.innerText = "Gracias por participar. Â¡DiviÃ©rtete en la villa!";
      nextBtn.classList.add("hidden");

      // Redirige a celebration.html o pÃ¡gina final
      setTimeout(() => {
        window.location.href = "celebration.html";
      }, 2000);
    }

  </script>
</body>

</html>